buildscript {
    repositories {
        jcenter()
        maven { url = "http://files.minecraftforge.net/maven" }
        maven { url = "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:2.2-SNAPSHOT'
        classpath 'gradle.plugin.com.matthewprenger:CurseGradle:1.0.9'
    }
}

apply plugin: 'net.minecraftforge.gradle.forge'
apply plugin: 'com.matthewprenger.cursegradle'

version = "1.0.1"
group= "info.u_team.u_team_core"
archivesBaseName = "u_team_core"

sourceCompatibility = targetCompatibility = "1.8"

compileJava {
    sourceCompatibility = targetCompatibility = "1.8"
}

minecraft {
    version = "1.10.2-12.18.3.2422"
    runDir = "run"
    mappings = "snapshot_20161111"
    makeObfSourceJar = false
}

jar {
    from "LICENSE"
    
    archiveName = archivesBaseName + '-' + minecraft.version + '-v' + version + '.jar'
    
    manifest.mainAttributes(
       	"Implementation-Title": "U Team Core",
    	"Implementation-Version": project.version,
		"Built-On": minecraft.version
	)
	
    exclude ("test/**")
}

dependencies {
}

processResources {
	from(sourceSets.main.resources.srcDirs) {
        exclude '*'
	}
}

curseforge {
	apiKey = project.properties['token']
  	project {
    	id = '273744'
    	releaseType = 'release'

    	mainArtifact(jar) {
      		displayName = 'U-Team-Core-' + minecraft.version + '-' + version
    	}
  	}
}
